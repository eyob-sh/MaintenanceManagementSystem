<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Maintenance Management System</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <link href="{% static 'img/ipdc_minimized_logo.png' %}" rel="icon">
  <link href="{% static 'img/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/quill/quill.snow.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/quill/quill.bubble.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/remixicon/remixicon.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/simple-datatables/style.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet">

  <!-- =======================================================
  * Template Name: NiceAdmin
  * Template URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
  * Updated: Apr 20 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
      <i class="bi bi-list toggle-sidebar-btn"></i>
      <a href="index.html" class="logo d-flex align-items-center">
        <img src="{% static 'img/logo.png' %}" alt="">
      </a>

    </div><!-- End Logo -->

    

    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">

        <li class="nav-item d-block d-lg-none">
          <a class="nav-link nav-icon search-bar-toggle " href="#">
            <!-- <i class="bi bi-search"></i> -->
          </a>
        </li>
        <!-- End Search Icon-->

        <!-- Notification Dropdown -->
<li class="nav-item dropdown">
  <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
      <i class="bi bi-bell" style="color: black;"></i>
      <span class="badge bg-primary badge-number" id="notification-count">{{ notifications|length }}</span>
  </a><!-- End Notification Icon -->

  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications" id="notification-list">
      <li class="dropdown-header">
          You have <span id="notification-header-count">{{ notifications|length }}</span> new notifications
          {% comment %} <a href="#"><span class="badge rounded-pill bg-primary p-2 ms-2">View all</span></a> {% endcomment %}
      </li>
      <li>
          <hr class="dropdown-divider">
      </li>

      {% for notification in notifications %}
      <li class="notification-item" id="notification-{{ notification.id }}">
          <a href="{% url 'mark_notification_as_read' notification.id %}" style="text-decoration: none; color: inherit;">
              <i class="bi bi-exclamation-circle text-warning"></i>
              <div>
                  <h4>{{ notification.message }}</h4>
                  <p>{{ notification.timestamp|timesince }} ago</p>
              </div>
          </a>
      </li>
      <li>
          <hr class="dropdown-divider">
      </li>
      {% endfor %}

      {% comment %} <li class="dropdown-footer">
          <a href="#">Show all notifications</a> 
      </li> {% endcomment %}
  </ul><!-- End Notification Dropdown Items -->
</li><!-- End Notification Nav -->
        {% comment %} <li class="nav-item dropdown">

          <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-chat-left-text" style="color: black;"></i>
            <span class="badge bg-success badge-number">3</span>
          </a><!-- End Messages Icon -->

          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow messages">
            <li class="dropdown-header">
              You have 3 new messages
              <a href="#"><span class="badge rounded-pill bg-primary p-2 ms-2">View all</span></a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>

            <li class="message-item">
              <a href="#">
                <img src="{% static 'img/messages-1.jpg' %}" alt="" class="rounded-circle">

                <div>
                  <h4>Maria Hudson</h4>
                  <p>Velit asperiores et ducimus soluta repudiandae labore officia est ut...</p>
                  <p>4 hrs. ago</p>
                </div>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>

            <li class="message-item">
              <a href="#">
                <img src="{% static 'img/messages-2.jpg' %}" alt="" class="rounded-circle">

                <div>
                  <h4>Anna Nelson</h4>
                  <p>Velit asperiores et ducimus soluta repudiandae labore officia est ut...</p>
                  <p>6 hrs. ago</p>
                </div>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>

            <li class="message-item">
              <a href="#">
                <img src="{% static 'img/messages-3.jpg' %}" alt="" class="rounded-circle">

                <div>
                  <h4>David Muldon</h4>
                  <p>Velit asperiores et ducimus soluta repudiandae labore officia est ut...</p>
                  <p>8 hrs. ago</p>
                </div>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>

            <li class="dropdown-footer">
              <a href="#">Show all messages</a>
            </li>

          </ul><!-- End Messages Dropdown Items -->

        </li><!-- End Messages Nav --> {% endcomment %}

        <li class="nav-item dropdown pe-3">

          <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle" style="font-size: 1.5rem; color: black;"></i>
            <span class="d-none d-md-block dropdown-toggle ps-2" style="color: black;">{{ request.user.username}}</span>
          </a><!-- End Profile Iamge Icon -->

          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
              <h6>{{ request.user.userprofile.get_role_display }}</h6>
              <span>{{ request.user.userprofile.branch }}</span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>

            <li>
              <a class="dropdown-item d-flex align-items-center" href="{% url 'my_profile' %}">
                <i class="bi bi-person"></i>
                <span>My Profile</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>






            <li>
              <a class="dropdown-item d-flex align-items-center" href="{% url 'logout' %}">
                <i class="bi bi-box-arrow-right"></i>
                <span>Log Out</span>
              </a>
            </li>

          </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->

      </ul>
    </nav><!-- End Icons Navigation -->

  </header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">
    <ul class="sidebar-nav" id="sidebar-nav">
      <!-- Dashboard and user profile (Visible to Everyone) -->
      {% if not request.user.is_superuser %}
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'profile' %}collapsed{% endif %}" href="{% url 'my_profile' %}">
          <i class="bi bi-person"></i>
          <span>Profile</span>
        </a>
      </li><!-- End Profile Page Nav -->
      {% endif %}
      


      <li class="nav-heading">Reports and Analytics</li>
      
      {% if request.user.userprofile.role in "CL" and not request.user.is_superuser %}
        <li class="nav-item">
        <a class="nav-link {% if active_page != 'dashboard' %}collapsed{% endif %}" href="{% url 'client_dashboard' %}">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li>

      {% elif request.user.userprofile.role in "MD manager TEC" and not request.user.is_superuser %}

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'dashboard' %}collapsed{% endif %}" href="{% url 'maintenance_dashboard' %}">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li>
      {% elif request.user.userprofile.role in "MO" and not request.user.is_superuser %}
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'dashboard' %}collapsed{% endif %}" href="{% url 'maintenance_oversight_dashboard' %}">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li>
      {% elif request.user.userprofile.role in "AD" and not request.user.is_superuser %}

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'dashboard' %}collapsed{% endif %}" href="{% url 'dashboard' %}">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li>

      {% elif request.user.userprofile.role in "IM" and not request.user.is_superuser %}

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'dashboard' %}collapsed{% endif %}" href="{% url 'inventory_dashboard' %}">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li>
      {% endif %}
      <!-- Maintenance Department Manager, Technician, Maintenance Oversight -->
       
      {% if request.user.userprofile.role in "MD manager TEC MO" and not request.user.is_superuser %}
      <li class="nav-heading">Asset Management</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'equipment_list' %}collapsed{% endif %}"
          href="{% url 'equipment_list' %}">
          <i class="bi bi-tools"></i>
          <span>Equipments</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'decommissioned_equipment_list' %}collapsed{% endif %}"
          href="{% url 'decommissioned_equipment_list' %}">
          <i class="bi bi-trash"></i>
          <span>Decommissioned Equipments</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'manufacturer_list' %}collapsed{% endif %}"
          href="{% url 'manufacturer_list' %}">
          <i class="bi bi-building"></i>
          <span>Manufacturer</span>
        </a>
      </li>
      <li class="nav-heading">Maintenance</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'maintenance_list' %}collapsed{% endif %}"
          href="{% url 'maintenance_list' %}">
          <i class="bi bi-clipboard-data"></i>
          <span>Maintenance Records</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'work_order_list' %}collapsed{% endif %}"
          href="{% url 'work_order_list' %}">
          <i class="bi bi-file-earmark-text"></i>
          <span>Work Order</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'maintenance_task_list' %}collapsed{% endif %}"
          href="{% url 'maintenance_task_list' %}">
          <i class="bi bi-wrench"></i>
          <span>Maintenance Tasks</span>
        </a>
      </li>
      <li class="nav-heading">Inventory</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'spare_part_list' %}collapsed{% endif %}"
          href="{% url 'spare_part_list' %}">
          <i class="bi bi-gear"></i>
          <span>Spare Parts</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'spare_part_usage_list' %}collapsed{% endif %}"
          href="{% url 'spare_part_usage_list' %}">
          <i class="bi bi-gear-wide"></i>
          <span>Spare Part Usage</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'restock_list' %}collapsed{% endif %}" href="{% url 'restock_list' %}">
          <i class="bi bi-box"></i>
          <span>Restock Spare Part</span>
        </a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'issue_list' %}collapsed{% endif %}" href="{% url 'issue_list' %}">
          <i class="bi bi-clipboard2-check"></i>
          <span>Inventory Request</span>
        </a>
      </li>

      <li class="nav-heading">Alerts & Monitoring</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'maintenance_due' %}collapsed{% endif %}"
          href="{% url 'maintenance_due' %}">
          <i class="bi bi-tools text-danger"></i>
          <span>Maintenance Due</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'low_spare_part' %}collapsed{% endif %}"
          href="{% url 'low_spare_part' %}">
          <i class="bi bi-exclamation-triangle text-danger"></i>
          <span>Low Spare Part</span>
        </a>
      </li>
      {% endif %}

      
      <!-- Inventory Manager -->
      {% if request.user.userprofile.role == 'IM' %}
      <li class="nav-heading">Inventory</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'spare_part_list' %}collapsed{% endif %}"
          href="{% url 'spare_part_list' %}">
          <i class="bi bi-gear"></i>
          <span>Spare Parts</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'spare_part_usage_list' %}collapsed{% endif %}"
          href="{% url 'spare_part_usage_list' %}">
          <i class="bi bi-gear-wide"></i>
          <span>Spare Part Usage</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'restock_list' %}collapsed{% endif %}" href="{% url 'restock_list' %}">
          <i class="bi bi-box"></i>
          <span>Restock</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'issue_list' %}collapsed{% endif %}" href="{% url 'issue_list' %}">
          <i class="bi bi-clipboard2-check"></i>
          <span>Inventory Request</span>
        </a>
      </li>


      <li class="nav-item">
        <a class="nav-link {% if active_page != 'low_spare_part' %}collapsed{% endif %}"
          href="{% url 'low_spare_part' %}">
          <i class="bi bi-exclamation-triangle text-danger"></i>
          <span>Low Spare Part</span>
        </a>
      </li>
      {% endif %}



      
      <!-- Admin -->
      {% if request.user.userprofile.role == 'AD' %}
      <li class="nav-heading">Admin</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'user_profile_list' %}collapsed{% endif %}"
          href="{% url 'user_profile_list' %}">
          <i class="bi bi-people"></i>
          <span>Users</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'branch_list' %}collapsed{% endif %}" href="{% url 'branch_list' %}">
          <i class="bi bi-diagram-3"></i>
          <span>Branch</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'audit_log' %}collapsed{% endif %}" href="{% url 'audit_logs' %}">
          <i class="bi bi-journal-text"></i>
          <span>Audit Log</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'login_event' %}collapsed{% endif %}" href="{% url 'login_events' %}">
          <i class="bi bi-door-open"></i>
          <span>Login Event</span>
        </a>
      </li>
      {% endif %}

      <!-- Superuser (Display All) -->
      {% if request.user.is_superuser %}
      <li class="nav-heading">Asset Management</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'equipment_list' %}collapsed{% endif %}"
          href="{% url 'equipment_list' %}">
          <i class="bi bi-tools"></i>
          <span>Equipments</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'decommissioned_equipment_list' %}collapsed{% endif %}"
          href="{% url 'decommissioned_equipment_list' %}">
          <i class="bi bi-trash"></i>
          <span>Decommissioned Equipments</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'maintenance_list' %}collapsed{% endif %}"
          href="{% url 'maintenance_list' %}">
          <i class="bi bi-clipboard-data"></i>
          <span>Maintenance Records</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'work_order_list' %}collapsed{% endif %}"
          href="{% url 'work_order_list' %}">
          <i class="bi bi-file-earmark-text"></i>
          <span>Work Order</span>
        </a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'maintenance_task_list' %}collapsed{% endif %}"
          href="{% url 'maintenance_task_list' %}">
          <i class="bi bi-wrench"></i>
          <span>Maintenance Tasks</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'manufacturer_list' %}collapsed{% endif %}"
          href="{% url 'manufacturer_list' %}">
          <i class="bi bi-building"></i>
          <span>Manufacturer</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'spare_part_list' %}collapsed{% endif %}"
          href="{% url 'spare_part_list' %}">
          <i class="bi bi-gear"></i>
          <span>Spare Parts</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'spare_part_usage_list' %}collapsed{% endif %}"
          href="{% url 'spare_part_usage_list' %}">
          <i class="bi bi-gear-wide"></i>
          <span>Spare Part Usage</span>
        </a>
      </li>
      


      <li class="nav-heading">Admin</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'user_profile_list' %}collapsed{% endif %}"
          href="{% url 'user_profile_list' %}">
          <i class="bi bi-people"></i>
          <span>Users</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'branch_list' %}collapsed{% endif %}" href="{% url 'branch_list' %}">
          <i class="bi bi-diagram-3"></i>
          <span>Branch</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'audit_log' %}collapsed{% endif %}" href="{% url 'audit_logs' %}">
          <i class="bi bi-journal-text"></i>
          <span>Audit Log</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if active_page != 'login_event' %}collapsed{% endif %}" href="{% url 'login_events' %}">
          <i class="bi bi-door-open"></i>
          <span>Login Event</span>
        </a>
      </li>
      {% endif %}

      {% if request.user.userprofile.role in "CL" and not request.user.is_superuser %}

      <li class="nav-heading">Work Order</li>
      <li class="nav-item">
        <a class="nav-link {% if active_page != 'work_order_list' %}collapsed{% endif %}"
          href="{% url 'work_order_list' %}">
          <i class="bi bi-file-earmark-text"></i>
          <span>Work Order</span>
        </a>
      </li>
      {% endif %}


      
      <!-- Logout (Visible to Everyone) -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="{% url 'logout' %}">
          <i class="bi bi-box-arrow-in-right"></i>
          <span>Log Out</span>
        </a>
      </li>
    </ul>
  </aside>



  {% block content %}




  {% endblock %}

  {% block active_page %}


  {% endblock %}


  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <!-- <div class="copyright">
      &copy; Copyright <strong><span></span></strong>. All Rights Reserved

    </div> -->
    <div class="credits">
      <!-- All the links in the footer should remain intact. -->
      <!-- You can delete the links only if you purchased the pro version. -->
      <!-- Licensing information: https://bootstrapmade.com/license/ -->
      <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/ -->
      <!-- Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a> -->
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="{% static 'vendor/apexcharts/apexcharts.min.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'vendor/chart.js/chart.umd.js' %}"></script>
  <script src="{% static 'vendor/echarts/echarts.min.js' %}"></script>
  <script src="{% static 'vendor/quill/quill.js' %}"></script>
  <script src="{% static 'vendor/simple-datatables/simple-datatables.js' %}"></script>
  <script src="{% static 'vendor/tinymce/tinymce.min.js' %}"></script>
  <script src="{% static 'vendor/php-email-form/validate.js' %}"></script>

  <!-- Template Main JS File -->
  <script src="{% static 'js/main.js' %}"></script>

</body>

<script>
  // Track the last notification ID
  let lastNotificationId = {{ latest_notification_id|default:0 }};
  
  // Function to play notification sound
  function playNotificationSound() {
      const audio = new Audio('/static/sounds/notification.mp3');
      audio.play().catch(error => {
          console.error('Error playing notification sound:', error);
      });
  }
  
  // Function to add a new notification to the UI
  function addNotification(notification) {
      const notificationList = document.getElementById('notification-list');
      const notificationCount = document.getElementById('notification-count');
      const notificationHeaderCount = document.getElementById('notification-header-count');
  
      // Check if the notification is new
      if (notification.id > lastNotificationId) {
          lastNotificationId = notification.id; // Update the last notification ID
  
          // Create the new notification item
          const notificationItem = document.createElement('li');
          notificationItem.className = 'notification-item';
          notificationItem.id = `notification-${notification.id}`;
          notificationItem.innerHTML = `
              <a href="/mark_notification_as_read/${notification.id}/" style="text-decoration: none; color: inherit;">
                  <i class="bi bi-exclamation-circle text-warning"></i>
                  <div>
                      <h4>${notification.message}</h4>
                      <p>${notification.timestamp}</p>
                  </div>
              </a>
          `;
  
          // Add the new notification to the top of the list
          notificationList.insertBefore(notificationItem, notificationList.children[2]);
          notificationList.insertBefore(document.createElement('li'), notificationList.children[2]).innerHTML = '<hr class="dropdown-divider">';
  
          // Update the notification count
          const count = parseInt(notificationCount.textContent) + 1;
          notificationCount.textContent = count;
          notificationHeaderCount.textContent = count;
  
          // Play notification sound
          playNotificationSound();
      }
  }
  
  // Connect to the SSE endpoint with the last notification ID
  const eventSource = new EventSource(`/notification_stream/?last_id=${lastNotificationId}`);
  
  // Listen for new notifications
  eventSource.onmessage = function(event) {
      const notification = JSON.parse(event.data);
      addNotification(notification);
  };
  
  // Handle errors
  eventSource.onerror = function() {
      console.error('SSE connection error. Reconnecting...');
      eventSource.close();
      setTimeout(() => {
          eventSource = new EventSource(`/notification_stream/?last_id=${lastNotificationId}`);
      }, 5000);
  };
  </script>